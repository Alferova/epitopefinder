

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>epitopefinder_selectsites.py &mdash; epitopefinder 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="epitopefinder 0.1 documentation" href="index.html" />
    <link rel="up" title="Analysis scripts" href="analysisscripts.html" />
    <link rel="next" title="epitopefinder_plotlineardensity.py" href="epitopefinder_plotlineardensity.html" />
    <link rel="prev" title="Analysis scripts" href="analysisscripts.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="epitopefinder_plotlineardensity.html" title="epitopefinder_plotlineardensity.py"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="analysisscripts.html" title="Analysis scripts"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">epitopefinder 0.1 documentation</a> &raquo;</li>
          <li><a href="analysisscripts.html" accesskey="U">Analysis scripts</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="epitopefinder-selectsites-py">
<span id="id1"></span><h1>epitopefinder_selectsites.py<a class="headerlink" href="#epitopefinder-selectsites-py" title="Permalink to this headline">¶</a></h1>
<p>This script helps with analysis of output from <a class="reference internal" href="epitopefinder_getepitopes.html#epitopefinder-getepitopes-py"><em>epitopefinder_getepitopes.py</em></a>. Specifically, it allows you to specify a subset of sites in the protein. It then generates a file that lists the number of epitopes for each of the selected sites, sorted in order from most to least epitopes.</p>
<div class="section" id="running-the-script">
<h2>Running the script<a class="headerlink" href="#running-the-script" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#epitopefinder-selectsites-py"><em>epitopefinder_selectsites.py</em></a> takes as input the name of a single file, the format of which is detailed below. If you have installed the package so that the scripts are the search path, you can run this script directly from the command line. For example, if you called your input file <tt class="docutils literal"><span class="pre">infile.txt</span></tt> then run:</p>
<div class="highlight-python"><pre>epitopefinder_selectsites.py infile.txt</pre>
</div>
<p>If the script is not executable on your platform, then run:</p>
<div class="highlight-python"><pre>python epitopefinder_selectsites.py infile.txt</pre>
</div>
<p>This will create the output described below.</p>
</div>
<div class="section" id="input-file-format">
<h2>Input file format<a class="headerlink" href="#input-file-format" title="Permalink to this headline">¶</a></h2>
<p>The input file is a text file that should contain the following lines in the order indicated below. Empty lines or lines beginning with # are ignored. Each entry takes the form of a key followed by its value:</p>
<blockquote>
<div><ul>
<li><p class="first"><em>epitopesbysitefile</em> is the name of a file listing the epitopes by site as would be generated by <a class="reference internal" href="epitopefinder_getepitopes.html#epitopefinder-getepitopes-py"><em>epitopefinder_getepitopes.py</em></a> as the value specified for <em>epitopesbysitefile</em>. This file must already exist, and contains the input data used by this script.</p>
</li>
<li><p class="first"><em>selectsitesfile</em> is the name of the output file that we create. This file lists the number of epitopes per site for the selected sites specified by <em>sites</em>.</p>
</li>
<li><p class="first"><em>sites</em> is a list of numbers specifying the sites for which we are trying to find the epitopes (in the same numbering scheme used by <a class="reference internal" href="epitopefinder_getepitopes.html#epitopefinder-getepitopes-py"><em>epitopefinder_getepitopes.py</em></a>, which is typically sequential 1, 2, ... numbering). All of these sites must be present in <em>epitopesbysitefile</em> or an exception will be raised. If a site is listed multiple times, how it is handled depends on the value of <em>retainmultiple</em>.</p>
</li>
<li><p class="first"><em>retainmultiple</em> specifies what we do if a site is listed multiple times in <em>sites</em>. The possible values are <em>True</em> and <em>False</em>. If <em>retainmultiple</em> is <em>True</em>, then if a site is listed multiple times in <em>sites</em>, then it will also be listed multiple times in the created <em>selectsitesfile</em>. If <em>retainmultiple</em> is <em>False</em>, then sites are only listed once in the created <em>selectsitesfile</em> even if they are listed multiple times in <em>sites</em>.</p>
<p>This distinction is important if you are subsequently comparing the selected sites to the full set of sites in <em>epitopesbysitefile</em> using <a class="reference internal" href="epitopefinder_plotdistributioncomparison.html#epitopefinder-plotdistributioncomparison-py"><em>epitopefinder_plotdistributioncomparison.py</em></a>. For instance, if you are looking at the set of sites that actually substitute during a protein&#8217;s evolution, you need to decide how to handle sites that substitute more than once. If you set <em>retainmultiple</em> to true, then sites that substitute multiple times will appear multiple times in the created <em>selectsitesfile</em>, which corresponds to counting each substitution rather than each site. So if you set <em>retainmultiple</em> to <em>True</em> here, then you will probably want to set <em>pvaluewithreplacement</em> to <em>True</em> in the input file for <a class="reference internal" href="epitopefinder_plotdistributioncomparison.html#epitopefinder-plotdistributioncomparison-py"><em>epitopefinder_plotdistributioncomparison.py</em></a>. If you set <em>retainmultiple</em> to <em>False</em> here, then you will probably want to set <em>pvaluewithreplacement</em> to <em>False</em> in the input file for <a class="reference internal" href="epitopefinder_plotdistributioncomparison.html#epitopefinder-plotdistributioncomparison-py"><em>epitopefinder_plotdistributioncomparison.py</em></a>.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="example-input-file">
<h2>Example input file<a class="headerlink" href="#example-input-file" title="Permalink to this headline">¶</a></h2>
<p>Here is an example input file:</p>
<div class="highlight-python"><pre># input file for epitopefinder_selectsites.py
epitopesbysitefile epitopesbysite_humanH3N2.csv
selectsitesfile selectedsites_humanH3N2.csv
sites 470 102 373 472 77 217 456 459 343 423 217 259 334 411 425 286 373 421 186 103 259 65 197 375 384 127 239 18 98 103 77 146 406 425 136 280 312 52 131 217
retainmultiple True</pre>
</div>
</div>
<div class="section" id="output-file">
<h2>Output file<a class="headerlink" href="#output-file" title="Permalink to this headline">¶</a></h2>
<p>The output of this script is the file <em>selectsitesfile</em>. This file lists the number of epitopes per site sorted from the most to least epitopes. For example, running the script with the example input file above might generate a file with the following first few lines:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Site</span><span class="p">,</span><span class="n">NumberUniqueEpitopes</span>
<span class="mi">384</span><span class="p">,</span><span class="mi">6</span>
<span class="mi">146</span><span class="p">,</span><span class="mi">5</span>
<span class="mi">343</span><span class="p">,</span><span class="mi">2</span>
<span class="mi">259</span><span class="p">,</span><span class="mi">2</span>
<span class="mi">259</span><span class="p">,</span><span class="mi">2</span>
<span class="o">...</span> <span class="p">(</span><span class="n">more</span> <span class="n">lines</span> <span class="n">will</span> <span class="n">follow</span><span class="p">)</span>
</pre></div>
</div>
<p>Note how site 259 is listed twice in this file since it specified twice by <em>sites</em> in the input file and <em>retainmultiple</em> is <em>True</em>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">epitopefinder_selectsites.py</a><ul>
<li><a class="reference internal" href="#running-the-script">Running the script</a></li>
<li><a class="reference internal" href="#input-file-format">Input file format</a></li>
<li><a class="reference internal" href="#example-input-file">Example input file</a></li>
<li><a class="reference internal" href="#output-file">Output file</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="analysisscripts.html"
                        title="previous chapter">Analysis scripts</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="epitopefinder_plotlineardensity.html"
                        title="next chapter">epitopefinder_plotlineardensity.py</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/epitopefinder_selectsites.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="epitopefinder_plotlineardensity.html" title="epitopefinder_plotlineardensity.py"
             >next</a> |</li>
        <li class="right" >
          <a href="analysisscripts.html" title="Analysis scripts"
             >previous</a> |</li>
        <li><a href="index.html">epitopefinder 0.1 documentation</a> &raquo;</li>
          <li><a href="analysisscripts.html" >Analysis scripts</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Jesse D. Bloom.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>