

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>epitopefinder_plotcorrelation.py &mdash; epitopefinder 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="epitopefinder 0.1 documentation" href="index.html" />
    <link rel="up" title="Analysis scripts" href="analysisscripts.html" />
    <link rel="next" title="epitopefinder_plotdistributioncomparison.py" href="epitopefinder_plotdistributioncomparison.html" />
    <link rel="prev" title="epitopefinder_plotlineardensity.py" href="epitopefinder_plotlineardensity.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="epitopefinder_plotdistributioncomparison.html" title="epitopefinder_plotdistributioncomparison.py"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="epitopefinder_plotlineardensity.html" title="epitopefinder_plotlineardensity.py"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">epitopefinder 0.1 documentation</a> &raquo;</li>
          <li><a href="analysisscripts.html" accesskey="U">Analysis scripts</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="epitopefinder-plotcorrelation-py">
<span id="id1"></span><h1>epitopefinder_plotcorrelation.py<a class="headerlink" href="#epitopefinder-plotcorrelation-py" title="Permalink to this headline">¶</a></h1>
<p>This script helps with analysis of output from <a class="reference internal" href="epitopefinder_getepitopes.html#epitopefinder-getepitopes-py"><em>epitopefinder_getepitopes.py</em></a>. This script plots the correlation between two variables. For instance, you might want to use it to plot the correlation between the number of epitopes per site (as contained in the <em>epitopesbysite</em> file created by <a class="reference internal" href="epitopefinder_getepitopes.html#epitopefinder-getepitopes-py"><em>epitopefinder_getepitopes.py</em></a> and some other per-site property.</p>
<p>The plot created is a scatter plot, with one data set on the x-axis and the other data set on the y-axis. The correlation coefficient can optionally also be displayed. Essentially, you provide the script with two input files giving some property (such as epitopes per site) for all or some sites in a protein. For all sites for which both input files specify a property value, a point is plotted on the correlation plot.</p>
<p>This script utilizes <a class="reference external" href="http://matplotlib.org/">matplotlib</a>, and will fail if that package is not available for importation. If you select the option for displaying correlation coefficients, the script also utilizes <a class="reference external" href="http://www.scipy.org">scipy</a> and so will fail if that package is not available for importation.</p>
<div class="section" id="running-the-script">
<h2>Running the script<a class="headerlink" href="#running-the-script" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">epitopefinder_plotcorrelation.py</span></tt> takes as input the name of a single file, the format of which is detailed below. If you have installed the package so that the scripts are the search path, you can run this script directly from the command line. For example, if you called your input file <tt class="docutils literal"><span class="pre">infile.txt</span></tt> then run:</p>
<div class="highlight-python"><pre>epitopefinder_plotcorrelation.py infile.txt</pre>
</div>
<p>If the script is not executable on your platform, then run:</p>
<div class="highlight-python"><pre>python epitopefinder_plotcorrelation.py infile.txt</pre>
</div>
<p>This will create the output described below.</p>
</div>
<div class="section" id="input-file-format">
<h2>Input file format<a class="headerlink" href="#input-file-format" title="Permalink to this headline">¶</a></h2>
<p>The input file is a text file that should contain the following key / value pairs. Each line begins with the key, and is followed by the value for that key. Empty lines or lines beginning with # are ignored:</p>
<blockquote>
<div><ul>
<li><p class="first"><em>plotfile</em> : This line should contain the word <em>plotfile</em> followed by a string giving the name of the PDF plot file that is being created. This file must end with the extension <tt class="docutils literal"><span class="pre">.pdf</span></tt>.</p>
</li>
<li><p class="first"><em>title</em> specifies the title placed above the plot. It can be <em>False</em> if no title is to be used. Otherwise, it should be the title (using LaTex formatting, spaces are allowed) that is placed above the plot.</p>
</li>
<li><p class="first"><em>correlation</em> specifies whether we compute and display the correlation coefficient between the two data sets. It can be <em>None</em> if you do not want to display this correlation coefficient. Otherwise, it should be either the string <em>Pearson</em> or the string <em>Spearman</em> depending on whether you want to compute Pearson&#8217;s parametric correlation coefficient or Spearman&#8217;s non-parametric correlation coefficient.</p>
</li>
<li><p class="first"><em>xdatafile</em> specifies the name of an existing CSV file that contains one of the data values for sites in the protein. This value is plotted on the x-axis of the correlation plot. The first line of the file is assumed to be a header and is ignored, as are any lines beginning with # or empty lines. All other lines should contain two numbers: the site (residue number) and the value associated with that number. Here is an example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Site</span><span class="p">,</span><span class="n">NumberUniqueEpitopes</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">0</span>
<span class="mi">2</span><span class="p">,</span><span class="mi">1</span>
<span class="mi">3</span><span class="p">,</span><span class="mi">1</span>
<span class="mi">4</span><span class="p">,</span><span class="mi">3</span>
<span class="mi">5</span><span class="p">,</span><span class="mi">3</span>
<span class="mi">6</span><span class="p">,</span><span class="mi">3</span>
</pre></div>
</div>
</li>
<li><p class="first"><em>ydatafile</em> is like <em>xdatafile</em>, but specifies the second value for the sites (which is plotted on the y-axis). Note that not all the same site numbers need to be present in both <em>xdatafile</em> and <em>ydatafile</em>, but only data pairs for which values are present in both files are plotted. There must be at least two data pairs or the script will raise an exception.</p>
</li>
<li><p class="first"><em>xlabel</em> specifies a string (in LaTex format) that is placed on the x-axis.</p>
</li>
<li><p class="first"><em>ylabel</em> specifies a string (in LaTex format) that is placed on the y-axis.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="example-input-file">
<h2>Example input file<a class="headerlink" href="#example-input-file" title="Permalink to this headline">¶</a></h2>
<p>Here is an example input file:</p>
<div class="highlight-python"><pre># input file for epitopefinder_plotcorrelation.py
plotfile epitopestabilitycorrelation.pdf
title False
correlation Spearman
xdatafile mutation_dtms.csv
ydatafile epitopesbysite.csv
xlabel $\Delta T_m$
ylabel number of MHC class I epitopes</pre>
</div>
</div>
<div class="section" id="output-files">
<h2>Output files<a class="headerlink" href="#output-files" title="Permalink to this headline">¶</a></h2>
<p>This script creates the PDF plot file <em>plotfile</em>. This plot uses points to show the correlation between the data values in <em>xdatafile</em> and <em>ydatafile</em>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">epitopefinder_plotcorrelation.py</a><ul>
<li><a class="reference internal" href="#running-the-script">Running the script</a></li>
<li><a class="reference internal" href="#input-file-format">Input file format</a></li>
<li><a class="reference internal" href="#example-input-file">Example input file</a></li>
<li><a class="reference internal" href="#output-files">Output files</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="epitopefinder_plotlineardensity.html"
                        title="previous chapter">epitopefinder_plotlineardensity.py</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="epitopefinder_plotdistributioncomparison.html"
                        title="next chapter">epitopefinder_plotdistributioncomparison.py</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/epitopefinder_plotcorrelation.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="epitopefinder_plotdistributioncomparison.html" title="epitopefinder_plotdistributioncomparison.py"
             >next</a> |</li>
        <li class="right" >
          <a href="epitopefinder_plotlineardensity.html" title="epitopefinder_plotlineardensity.py"
             >previous</a> |</li>
        <li><a href="index.html">epitopefinder 0.1 documentation</a> &raquo;</li>
          <li><a href="analysisscripts.html" >Analysis scripts</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Jesse D. Bloom.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>